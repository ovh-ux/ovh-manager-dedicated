<div data-ng-controller="Billing.controllers.FidelityCreditOrder">
    <div data-wizard
         data-wizard-on-cancel="resetAction"
         data-wizard-on-finish="displayBC"
         data-wizard-title="i18n.fidelity_creditOrder_title"
         data-wizard-bread-crumb
         data-wizard-confirm-button-text="i18n.wizard_order">

        <div data-wizard-step
            data-wizard-step-on-load="loadAmount"
            data-wizard-step-valid="renewStepValidator()">
            <p data-ng-bind="tr('fidelity_creditOrder_step1_msg', currency.symbol)">
            </p>
            <label for="amount"
                   class="control-label"
                   data-ng-bind="tr('fidelity_creditOrder_step1_amount')">
            </label>
            <input id="amount"
                   type="number"
                   class="form-control"
                   data-ng-model="creditOrder.amount"
                   data-ng-model-options="{'debounce': 500}"
                   data-ng-change="checkAmount()" />
            <span data-ng-show="creditOrder.erreurMin"
                  class="text-danger"
                  role="alert"
                  data-ng-bind="tr('fidelity_creditOrder_step1_erreurmin', [creditOrder.min])">
            </span>
            <span data-ng-show="creditOrder.erreurMax"
                  class="text-danger"
                  role="alert"
                  data-ng-bind="tr('fidelity_creditOrder_step1_erreurmax', [creditOrder.max])">
            </span>
            <span data-ng-show="creditOrder.erreurFormat"
                  class="text-danger"
                  role="alert"
                  data-ng-bind="tr('fidelity_creditOrder_step1_erreurformat')">
            </span>
        </div>

        <div data-wizard-step
             data-wizard-step-on-load="getBC"
             data-wizard-step-valid="creditOrder.BC.url">
            <div data-ng-show="creditOrder.BC.url">
                <p data-i18n-static="fidelity_creditOrder_step2_msg"></p>
                <p class="text-center">
                    <span data-i18n-static="fidelity_creditOrder_step2_credit"></span>
                    <strong data-ng-bind="creditOrder.amount"></strong>
                    <span data-i18n-static="fidelity_points"></span>
                </p>
            </div>
            <span data-ng-show="creditOrder.error"
                  role="alert"
                  data-i18n-static="fidelity_creditOrder_step2_error">
            </span>
            <div data-ng-show="creditOrder.loading"
                 class="text-center">
                <oui-spinner></oui-spinner>
            </div>
         </div>
     </div>
 </div>
