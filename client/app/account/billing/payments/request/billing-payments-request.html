<div class="billing-payments-request">

    <oui-back-button data-heading="{{ :: ('billing_payments_request_title' | translate) }}"
                     data-href="{{ $ctrl.$state.href('^') }}">
    </oui-back-button>

    <div class="text-center"
         data-ng-if="$ctrl.loading.init">
        <oui-spinner></oui-spinner>
     </div>

    <div data-ng-if="!$ctrl.loading.init">
        <div data-ovh-alert="billing_payment_request"></div>

        <div data-ng-if="!$ctrl.requestPending">
            <div class="mb-4">
                <oui-message data-type="info"
                             data-on-dismissed="$ctrl.$state.go('^')">
                    <span data-translate="billing_payment_request_no_pending"></span>
                </oui-message>
            </div>
        </div>

        <div data-ng-if="$ctrl.requestPending">
            <div class="mb-4">
                <oui-message data-type="info">
                    <span data-translate="billing_payments_request_info"></span>
                </oui-message>
            </div>

            <oui-datagrid data-rows="$ctrl.bills">
                <oui-column data-title=":: 'billing_payments_request_table_reference' | translate">
                    <span data-ng-bind="$row.value.billId"></span>
                </oui-column>
                <oui-column data-title=":: 'billing_payments_request_table_date' | translate">
                    <span data-ng-bind="$row.value.date | date:'mediumDate'"></span>
                </oui-column>
                <oui-column data-title=":: 'billing_payments_request_table_paid_date' | translate">
                    <span data-ng-bind="$row.value.paid | date:'mediumDate'"></span>
                </oui-column>
                <oui-column data-title=":: 'billing_payments_request_table_date' | translate">
                    <span data-ng-bind="$row.value.priceWithTax.text"></span>
                </oui-column>
            </oui-datagrid>
        </div>
    </div>

</div>
