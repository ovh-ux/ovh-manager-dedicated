<form name="userContractsAcceptForm"
      id="userContractsAcceptForm"
      data-ng-controller="UserContractsAcceptModalCtrl as $ctrl"
      data-ng-submit="$ctrl.agree()">

    <div class="modal-header"></div>

    <div class="modal-body">
        <div class="text-center"
             data-ng-if="$ctrl.contracts.loading || $ctrl.saving">
            <oui-spinner></oui-spinner>
        </div>
        <div data-ng-if="!$ctrl.contracts.loading && !$ctrl.saving">
            <h3 class="modal-title"
                data-translate="user_contracts_modal_title">
            </h3>
            <oui-message class="d-block mb-4"
                         data-type="error"
                         data-ng-if="$ctrl.hasSubmitError">
                <span data-translate="user_contracts_modal_submit_error"></span>
            </oui-message>
            <p>
                <span data-translate="user_contracts_modal_term_of_service_updated_text"></span>
                <span data-translate="user_contracts_modal_term_of_service_updated_explanation"></span>
            </p>
            <ul>
                <li data-ng-repeat="contract in $ctrl.contracts.data track by $index">
                    <a class="d-block"
                        target="_blank"
                        rel="noopener"
                        data-ng-href="{{ contract.pdf }}"
                        data-translate="{{ 'user_contracts_modal_display_text_' + contract.code }}">
                    </a>
                </li>
            </ul>
            <div class="checkbox">
                <label>
                    <input type="checkbox"
                           data-ng-model="$ctrl.model.accepted.value" />
                    <span data-ng-bind="$ctrl.getCheckboxLabel()"></span>
                </label>
            </div>

        </div>
    </div>

    <div class="modal-footer">
        <button type="submit"
                class="btn btn-primary"
                data-ng-disabled="!$ctrl.model.accepted.value || $ctrl.saving"
                data-translate="wizard_confirm">
        </button>
    </div>

</form>
