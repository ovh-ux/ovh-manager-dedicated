<div data-ng-controller="IpViewAntihackCtrl">
    <div data-wizard
         data-wizard-hide-cancel-button="true"
         data-wizard-confirm-button-text="i18n.wizard_close"
         data-wizard-on-cancel="resetAction"
         data-wizard-on-finish="resetAction"
         data-wizard-title="i18n.ip_table_manage_view_antihack">

        <div data-wizard-step
             data-wizard-step-valid="!loading">

            <div data-ng-show="!loading">
                <dl class="dl-horizontal">
                    <dt data-i18n-static="ip_antihack_status"></dt>
                    <dd data-ng-bind="details.state ? tr('ip_antihack_status_' + details.state.toUpperCase()) : '/'"></dd>
                    <dt data-i18n-static="ip_antihack_blockedsince"></dt>
                    <dd data-ng-bind="details.blockedSince || '/' | date:'medium'"></dd>
                    <dt data-i18n-static="ip_antihack_remainingtime"></dt>
                    <dd data-ng-bind="details.time || '0'"></dd>
                </dl>
                <pre data-ng-if="details.logs"
                     data-ng-bind="details.logs"
                     class="pre-scrollable">
                </pre>
                <button type="button"
                        class="btn btn-primary"
                        data-ng-if="details.state === 'blocked'"
                        data-ng-click="unblockAntihack()"
                        data-i18n-static="ip_antihack_unblock">
                </button>
            </div>

            <div class="text-center"
                 data-ng-show="loading">
                <oui-spinner></oui-spinner>
            </div>

        </div>
    </div>
</div>
