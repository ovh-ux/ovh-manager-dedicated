<p data-translate="dedicatedCloud_datacenter_pcc_name"
   data-translate-values="{ 'pcc': $ctrl.drpInformations.primaryPcc.description || $ctrl.drpInformations.primaryPcc.serviceName }"></p>
<form name="$ctrl.primaryPcc"
      novalidate>
    <oui-field data-label="{{:: 'dedicatedCloud_datacenter_main_datacenter_name' | translate }}"
               data-size="l">
        <oui-select name="datacenterId"
                    data-match="formattedName"
                    data-model="$ctrl.drpInformations.primaryDatacenter"
                    data-items="$ctrl.availableDatacenters"
                    data-placeholder="{{:: 'dedicatedCloud_datacenter_main_datacenter_name_placeholder' | translate }}"
                    data-disabled="!$ctrl.drpInformations.hasDatacenterWithoutHosts"
                    data-required>
        </oui-select>
    </oui-field>

    <div data-ng-if="$ctrl.availableIpAddress.length === 0">
        <oui-message data-type="warning">
            <span data-translate="dedicatedCloud_datacenter_order_ip"
                  data-translate-values="{ 'sref': 'app.dedicatedClouds.datacenter.drp.ovh.mainPccStep.legacyOrderIp'}"
                  data-translate-compile
                  data-ng-if="$ctrl.ipFeatureAvailability.allowIPFailoverOrder()"></span>
            <span data-translate="dedicatedCloud_datacenter_order_ip"
                  data-translate-values="{ 'sref': 'app.dedicatedClouds.datacenter.drp.ovh.mainPccStep.orderIp' }"
                  data-translate-compile
                  data-ng-if="$ctrl.ipFeatureAvailability.allowIPFailoverAgoraOrder()"></span>
        </oui-message>
    </div>
    <oui-field data-label="{{:: 'dedicatedCloud_datacenter_main_ip_address_pool_available' | translate }}"
               data-size="l"
               data-ng-if="$ctrl.availableIpAddress.length > 0">
        <oui-select name="primaryEndpointIp"
                    data-match="ip"
                    data-model="$ctrl.selectedIpAddress"
                    data-on-change="$ctrl.drpInformations.primaryEndpointIp = modelValue.ip"
                    data-items="$ctrl.availableIpAddress"
                    data-disabled="!$ctrl.drpInformations.primaryDatacenter"
                    data-placeholder="{{:: 'dedicatedCloud_datacenter_main_ip_address_pool_available_placeholder' | translate }}"
                    data-required>
        </oui-select>
    </oui-field>

    <oui-field data-label="{{:: 'dedicatedCloud_datacenter_local_vra_network' | translate }}"
               data-help-text="{{:: 'dedicatedCloud_datacenter_local_vra_network_help' | translate }}"
               data-size="l"
               data-ng-if="$ctrl.drpInformations.drpType === $ctrl.DRP_OPTIONS.onPremise">
        <input class="oui-input"
               type="text"
               name="localVraNetwork"
               placeholder="{{:: 'dedicatedCloud_datacenter_local_vra_network_placeholder' | translate }}"
               data-ng-model="$ctrl.drpInformations.localVraNetwork"
               data-ng-pattern="$ctrl.IP_BLOCK_REG_EXP"
               data-required>
    </oui-field>
</form>

<div class="mt-5">
    <oui-button data-variant="secondary"
                data-variant-nav="previous"
                data-on-click="$ctrl.goBackToChoice($ctrl.drpInformations.drpType)">
        <span data-translate="common_previous"></span>
    </oui-button>
    <oui-button data-variant="primary"
                data-variant-nav="next"
                data-on-click="$ctrl.goToNextStep($ctrl.drpInformations)"
                data-disabled="!$ctrl.drpInformations.primaryEndpointIp || ($ctrl.drpInformations.drpType === $ctrl.DRP_OPTIONS.onPremise && !$ctrl.drpInformations.localVraNetwork)">
        <span data-translate="common_next"></span>
    </oui-button>
</div>
