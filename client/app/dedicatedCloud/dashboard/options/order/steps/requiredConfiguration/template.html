<p data-translate="dedicatedCloud_servicePack_requiredConfiguration_header"></p>

<ul>
    <li>
        <span
            data-translate="dedicatedCloud_servicePack_requiredConfiguration_criterias_accessPolicy_definition"
            data-translate-values="{
                accessPolicyValue: ('dedicatedCloud_servicePack_requiredConfiguration_criterias_accessPolicy_value_' + $ctrl.currentService.userAccessPolicy | translate)
            }"></span>
    </li>
    <li>
        <span
            data-translate="dedicatedCloud_servicePack_requiredConfiguration_criterias_numberOfAllowedIPAndBlocks_definition"
            data-translate-values="{
                numberOfAllowedIPsAndBlocks: $ctrl.allowedIPsAndBlocks.length
            }"></span>
    </li>
</ul>

<oui-datagrid
    data-ng-if="$ctrl.configurationIsCorrect"
    data-rows-loader="$ctrl.mapAllowedIPsAndBlocks()">
    <oui-column
        data-title=":: 'dedicatedCloud_servicePack_requiredConfiguration_ipTable_ipColumn' | translate"
        data-property="network"
        data-type="string"></oui-column>
    <oui-column
        data-title=":: 'dedicatedCloud_servicePack_requiredConfiguration_descriptionTable_descriptionColumn' | translate"
        data-property="description"
        data-type="string"></oui-column>
</oui-datagrid>

<oui-message
    data-ng-if="!$ctrl.configurationIsCorrect"
    data-type="warning"
    class="mb-5">
    <span
        data-ng-if="!$ctrl.userAccessPolicyIsCorrect && $ctrl.numberOfAllowedIPsAndBlocksIsAllowed"
        data-translate="dedicatedCloud_servicePack_requiredConfiguration_warningMessage_accessPolicy_error"></span>
    <span
        data-ng-if="$ctrl.userAccessPolicyIsCorrect && !$ctrl.numberOfAllowedIPsAndBlocksIsAllowed"
        data-translate="dedicatedCloud_servicePack_requiredConfiguration_warningMessage_numberOfAllowedIPAndBlocks_error"></span>
    <span
        data-ng-if="!$ctrl.userAccessPolicyIsCorrect && !$ctrl.numberOfAllowedIPsAndBlocksIsAllowed"
        data-translate="dedicatedCloud_servicePack_requiredConfiguration_warningMessage_both_error"></span>
    <span data-translate="dedicatedCloud_servicePack_requiredConfiguration_warningMessage_whatToDoNow_1"></span>
    <a data-ui-sref="app.dedicatedClouds.security">
        <strong data-translate="dedicatedCloud_tab_security"></strong>
    </a>
    <span data-translate="dedicatedCloud_servicePack_requiredConfiguration_warningMessage_whatToDoNow_2"></span>
</oui-message>

<oui-button
    data-on-click="$ctrl.stepper.goToPreviousStep()"
    data-variant="secondary">
    <span data-translate="dedicatedCloud_servicePack_requiredConfiguration_previousButton"></span>
</oui-button>

<oui-button
    data-disabled="!$ctrl.configurationIsCorrect"
    data-on-click="$ctrl.stepper.goToNextStep()"
    data-variant="primary"
    class="ml-3">
    <span data-translate="dedicatedCloud_servicePack_requiredConfiguration_nextButton"></span>
</oui-button>
