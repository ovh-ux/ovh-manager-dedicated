<div class="dedicatedCloud-mailing-list-subscribe">

    <div class="oui-modal oui-modal_shadow"
         data-ng-if="$ctrl.loading.init || !$ctrl.canSubscribe">

        <div class="oui-modal__header">
            <button type="button"
                    class="oui-icon oui-icon-close_thin oui-modal__close-button"
                    aria-label="{{ i18n.wizard_close }}"
                    data-ng-click="$ctrl.onWidzardCancel()">
            </button>
        </div>

        <div class="oui-modal__body text-center oui-modal__body_no-icon"
             data-ng-if="$ctrl.loading.init">
            <oui-spinner></oui-spinner>
        </div>

        <div class="oui-modal__body"
             data-ng-if="!$ctrl.loading.init && !$ctrl.canSubscribe">
            <i class="oui-icon oui-icon-warning_circle oui-icon_bicolor"
               aria-hidden="true">
            </i>

            <div class="oui-modal__body-text">
                <h2 class="oui-modal__title"
                    data-i18n-static="dedicatedCloud_subscribe_mailing">
                </h2>

                <p data-ng-bind="tr('dedicatedCloud_subscribe_mailing_disabled', $ctrl.pccMl)"></p>
            </div>
        </div>

        <div class="oui-modal__footer">
            <button type="button"
                    class="oui-button oui-button_secondary"
                    data-i18n-static="wizard_cancel"
                    data-ng-click="$ctrl.onWidzardCancel()"
                    data-ng-disabled="$ctrl.loading.enable">
            </button>
            <button type="button"
                    class="oui-button oui-button_primary"
                    data-i18n-static="global_OK"
                    data-ng-disabled="$ctrl.loading.init || $ctrl.loading.enable"
                    data-ng-click="$ctrl.onWidzardCancel()">
            </button>
        </div>

    </div>

    <div data-wizard
         data-wizard-on-cancel="$ctrl.onWidzardCancel.bind($ctrl)"
         data-wizard-on-finish="$ctrl.onWidzardFinish.bind($ctrl)"
         data-wizard-title="tr('dedicatedCloud_subscribe_mailing')"
         data-ng-if="!$ctrl.loading.init && $ctrl.canSubscribe">

        <div data-wizard-step
             data-wizard-step-valid="$ctrl.subscribeForm.$valid">

            <form name="$ctrl.subscribeForm">
                <div class="form-group">
                    <label for="email"
                           class="control-label"
                           data-ng-bind="tr('dedicatedCloud_subscribe_mailing_step1', 'pcc@ml.ovh.net')">
                    </label>
                    <input type="email"
                           class="form-control wizard-container"
                           id="email"
                           name="email"
                           data-ng-model="$ctrl.model.email"
                           required />
                </div>
            </form>

        </div>

        <div data-wizard-step
             data-wizard-step-valid="!$ctrl.loading.subscribe">

            <div class="text-center"
                 data-ng-if="$ctrl.loading.subscribe">
                <oui-spinner></oui-spinner>
            </div>
            <p data-ng-if="!$ctrl.loading.subscribe"
               data-ng-bind="tr('dedicatedCloud_subscribe_mailing_step2', [$ctrl.model.email, 'pcc@ml.ovh.net'])">
            </p>

        </div>

    </div>

</div>
