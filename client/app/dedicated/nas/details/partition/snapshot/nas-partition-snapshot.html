<div class="dedicated-nas-details-partition-snapshot">

    <h2 data-ng-bind="tr('nas_snapshot_of', [$ctrl.partitionName])"></h2>

    <a class="d-inline-block mb-5"
       data-ui-sref="^"
       title="{{ i18n.common_back }}">
        <span class="fa fa-chevron-left mr-2"
              aria-hidden="true">
        </span>
        <span data-i18n-static="common_back"></span>
    </a>

    <div class="row">
        <div class="col-md-9">
            <p class="text-danger"
               data-ng-if="$ctrl.disable.taskDoing"
               data-i18n-static="nas_snapshot_informations_task">
            </p>
            <button type="button"
                    class="btn btn-link"
                    data-ng-click="openHelpSnapshot = !openHelpSnapshot">
                <span class="fa mr-2"
                      data-ng-class="{
                          'fa-chevron-right': !openHelpSnapshot,
                          'fa-chevron-down': openHelpSnapshot
                      }">
                </span>
                <span data-ng-bind="i18n.nas_snapshot_info"></span>
            </button>
            <div class="oui-box oui-box_light"
                  data-ng-if="openHelpSnapshot">
                <p data-i18n-static="nas_snapshot_informations"></p>
                <strong data-i18n-static="nas_snapshot_informations_size"></strong>
            </div>
            <table class="table table-hover mt-4">
                <thead>
                    <th scope="col"
                        class="text-center">
                        <button type="button"
                                class="btn btn-link"
                                title="{{ tr('nas_snapshot_informations_cancel') }}"
                                data-ng-hide="$ctrl.snapshots.save || $ctrl.disable.taskDoing || $ctrl.loading"
                                data-ng-click="$ctrl.editSnapshot()">
                            <span class="oui-icon oui-icon-pen_line" aria-hidden="true"></span>
                        </button>
                        <button type="button"
                                class="btn btn-link"
                                title="{{ tr('nas_snapshot_informations_valid') }}"
                                data-ng-show="$ctrl.snapshots.save && !$ctrl.disable.taskDoing && !$ctrl.loading"
                                data-ng-click="$ctrl.setSnapshot()">
                            <span class="fa fa-check" aria-hidden="true"></span>
                        </button>
                        <button type="button"
                                class="btn btn-link"
                                title="{{ tr('nas_snapshot_informations_cancel') }}"
                                data-ng-show="$ctrl.snapshots.save &&  !$ctrl.disable.taskDoing && !$ctrl.loading"
                                data-ng-click="$ctrl.cancelSnapshot()">
                            <span class="oui-icon oui-icon-trash_line" aria-hidden="true"></span>
                        </button>
                    </th>
                    <th scope="col"
                        data-i18n-static="nas_snapshot_type">
                    </th>
                </thead>
                <tbody data-ng-if="$ctrl.loading">
                    <tr>
                        <td colspan="2"
                            class="text-center">
                            <oui-spinner data-size="s"></oui-spinner>
                        </td>
                    </tr>
                </tbody>
                <tbody data-ng-if="!$ctrl.loading">
                    <tr data-ng-repeat="snapshot in $ctrl.snapshots.model track by $index">
                        <td class="min-width text-center">
                            <span class="fa"
                                  aria-label="{{ tr('nas_snapshot_' + snapshot.type) }}"
                                  data-ng-if="!$ctrl.snapshots.save"
                                  data-ng-class="{
                                      'fa-check': snapshot.active == true,
                                      'fa-ban': snapshot.active == false
                                  }">
                            </span>
                            <input type="checkbox"
                                   data-ng-if="$ctrl.snapshots.save"
                                   data-ng-model="snapshot.active" />
                        </td>
                        <td data-ng-bind="tr('nas_snapshot_' + snapshot.type)"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
