<div class="oui-tile"
     data-ng-controller="controllers.Server.Stats.Rtm.Disk">
    <h5 class="oui-header_5 oui-tile__title"
        data-i18n-static="server_tab_stats_rtm_partions_status"></h5>
    <div class="oui-tile__body text-center"
         data-ng-if="loading">
        <oui-spinner></oui-spinner>
    </div>
    <div data-ovh-alert="loadingAlert"></div>
    <div class="oui-tile__body">
        <div class="oui-tile__item"
             data-ng-if="!loading">
            <div class="oui-tile__definition">
                <div data-ng-if="!loading">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th scope="col"
                                    data-translate="server_tab_stats_rtm_partions_name">
                                </th>
                                <th scope="col"
                                    data-translate="server_tab_stats_rtm_partions_mountPoint">
                                </th>
                                <th scope="col"
                                    data-translate="server_tab_stats_rtm_partions_usage">
                                </th>
                                <th scope="col"
                                    data-translate="server_tab_stats_rtm_partions_inodeUsage">
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-ng-repeat="partition in partitions track by $index">
                                <th scope="row"
                                    data-ng-bind="partition.partition">
                                </th>
                                <td data-ng-bind="partition.mountPoint"></td>
                                <td>
                                    <div class="oui-progress"
                                         data-ng-class="{
                                            'oui-progress_success': partition.usage.value < 51,
                                            'oui-progress_warning': partition.usage.value > 50 && partition.usage.value < 81,
                                            'oui-progress_error': partition.usage.value > 80
                                         }">
                                        <div class="oui-progress__bar"
                                             role="progressbar"
                                             aria-valuemin="0"
                                             aria-valuemax="100"
                                             aria-valuenow="{{ partition.usage.value }}"
                                             data-ng-style="{ 'width': partition.usage.value + '%' }"
                                             data-ng-class="{
                                                'oui-progress__bar_success': partition.usage.value < 51,
                                                'oui-progress__bar_warning': partition.usage.value > 50 && partition.usage.value < 81,
                                                'oui-progress__bar_error': partition.usage.value > 80
                                             }">
                                            <span class="oui-progress__label"
                                                  data-ng-bind-template="{{ partition.usage.value }}&nbsp;{{ partition.usage.unit }}"></span>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <div class="oui-progress"
                                         data-ng-class="{
                                            'oui-progress_success': partition.inodeUsage.value < 51,
                                            'oui-progress_warning': partition.inodeUsage.value > 50 && partition.inodeUsage.value < 81,
                                            'oui-progress_error': partition.inodeUsage.value > 80
                                         }">
                                        <div class="oui-progress__bar"
                                             role="progressbar"
                                             aria-valuemin="0"
                                             aria-valuemax="100"
                                             aria-valuenow="{{ partition.inodeUsage.value }}"
                                             data-ng-style="{ 'width': partition.inodeUsage.value + '%' }"
                                             data-ng-class="{
                                                'oui-progress__bar_success': partition.inodeUsage.value < 51,
                                                'oui-progress__bar_warning': partition.inodeUsage.value > 50 && partition.inodeUsage.value < 81,
                                                'oui-progress__bar_error': partition.inodeUsage.value > 80
                                             }">
                                            <span class="oui-progress__label"
                                                  data-ng-bind-template="{{ partition.inodeUsage.value }}&nbsp;{{ partition.inodeUsage.unit }}"></span>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
