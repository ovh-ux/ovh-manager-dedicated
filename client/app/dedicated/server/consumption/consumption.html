<div data-ng-controller="ServerConsumptionCtrl as ctrl">

<<<<<<< f9e9ca87de74a0fea89ed134a15edf80510871ee
    <h2>
        <span data-translate="server_consumption_label"></span>
        <span data-uib-tooltip="{{ 'server_consumption_explanation' | translate }}"
              data-tooltip-placement="top">
            <span class="fa fa-question-circle" aria-hidden="true"></span>
        </span>
    </h2>
    <span class="text-danger"
          data-ng-if="!ctrl.traffic.loading"
          data-translate="{{ 'server_consumption_summary_' + ctrl.traffic.data.usage.resetQuotaTimeLeft.unit }}"
          data-translate-values="{
            t0: ctrl.traffic.data.usage.remainingOutputQuotaSize.text,
            t1: ctrl.traffic.data.usage.resetQuotaTimeLeft.value
          }"
          data-ng-class="{ 'danger': state.overQuota }">
    </span>
    <span class="text-danger"
          data-ng-if="!ctrl.traffic.loading && ctrl.traffic.data.usage.isThrottled"
          data-ng-class="{ 'danger': ctrl.traffic.data.usage.overQuota }">
          <span> - </span>
          <span data-translate="server_consumption_throttled"></span>
    </span>

    <div class="text-center"
         data-ng-if="ctrl.server.loading || ctrl.traffic.loading">
        <oui-spinner></oui-spinner>
    </div>

    <div data-ng-if="!ctrl.server.loading && !ctrl.traffic.loading">
        <span data-ng-bind="'server_consumption_current_period_label' | translate:{ t0: ctrl.traffic.data.usage.outputQuotaSize.text }"></span>
        <button type="button"
                class="btn btn-default"
                title="{{ 'server_traffic_order_button' | translate }}"
                data-ng-if="ctrl.canOrderTraffic() && ctrl.canOrderMoreTraffic()"
                data-ng-click="setAction('traffic/order/dedicated-server-traffic-order', ctrl.server.data.name)"
                data-ng-disabled="ctrl.server.data.state === 'HACKED' || ctrl.server.data.state === 'HACKED_BLOCKED'">
            <span class="fa fa-shopping-cart" aria-hidden="true"></span>
            <span data-translate="{{ ctrl.trafficOption.data !== 'subscribed' ? 'server_traffic_order_button' : 'server_traffic_change_button' }}"></span>
        </button>
    </div>

    <div class="row"
         data-ng-if="!ctrl.server.loading && !ctrl.traffic.loading">
        <div class="col-md-6">
            <div class="progress progress-striped"
                 data-ng-class="{
                     'progress-warning': ctrl.traffic.data.usage.nearQuota,
                     'progress-danger': ctrl.traffic.data.usage.overQuota
                 }">
            </div>
            <div class="bar current-period__progress-bar"
                 role="progressbar"
                 aria-valuenow="{{ ctrl.traffic.data.usage.outputQuotaUsed.value }}"
                 aria-valuemin="0"
                 aria-valuemax="{{ ctrl.traffic.data.usage.outputQuotaSize.value }}"
                 data-ng-style="{ 'width': ctrl.traffic.data.usage.remainingOutputQuotaSize.percent + '%' }">
            </div>
        </div>
        <div class="col-md-6">
            <div class="mt-2">
                <span data-ng-bind="ctrl.traffic.data.usage.outputQuotaUsed.text"></span> /
                <span data-ng-bind="'server_consumption_current_period_remaining' | translate:{ t0: ctrl.traffic.data.usage.remainingOutputQuotaSize.text }"></span>
=======
    <div class="oui-tile">
        <h4 class="oui-header_4 oui-tile__title">
            <span data-i18n-static="server_consumption_label"></span>
            <i class="oui-icon oui-icon-help_circle oui-tooltip__trigger"
                oui-tooltip="{{:: tr('server_consumption_explanation') }}"></i>
        </h4>
        <div class="oui-tile__body text-center"
            data-ng-if="ctrl.server.loading || ctrl.traffic.loading">
            <oui-spinner></oui-spinner>
        </div>
        <div class="oui-tile__body"
            data-ng-if="!ctrl.server.loading && !ctrl.traffic.loading">
            <div class="oui-tile__item"
                data-ng-if="ctrl.traffic.data.usage.resetQuotaTimeLeft && ctrl.traffic.data.usage.isThrottled">
                <span class="text-danger"
                    data-ng-if="ctrl.traffic.data.usage.resetQuotaTimeLeft"
                    data-ng-bind="tr('server_consumption_summary_' + ctrl.traffic.data.usage.resetQuotaTimeLeft.unit, [
                        ctrl.traffic.data.usage.remainingOutputQuotaSize.text,
                        ctrl.traffic.data.usage.resetQuotaTimeLeft.value
                    ])"
                    data-ng-class="{ 'danger': state.overQuota }">
                </span>
                <span class="text-danger"
                    data-ng-if="ctrl.traffic.data.usage.isThrottled"
                    data-ng-class="{ 'danger': ctrl.traffic.data.usage.overQuota }">
                    <span> - </span>
                    <span data-i18n-static="server_consumption_throttled"></span>
                </span>
            </div>
            <div class="oui-tile__item">
                <dl class="oui-tile__definition">
                    <dt class="oui-tile__term"
                        data-ng-bind="tr('server_consumption_current_period_label', [ctrl.traffic.data.usage.outputQuotaSize.text])"></dt>
                    <dd class="oui-tile__description"
                        data-ng-if="ctrl.traffic.data.usage.outputQuotaUsed.value">
                        <div class="oui-progress oui-progress_info"
                            data-ng-class="{
                                'oui-progress_warning': ctrl.traffic.data.usage.nearQuota,
                                'oui-progress_error': ctrl.traffic.data.usage.overQuota
                            }">
                            <div class="oui-progress__bar"
                                role="progressbar"
                                aria-valuemin="0"
                                aria-valuemax="{{ ctrl.traffic.data.usage.outputQuotaSize.value }}"
                                aria-valuenow="{{ ctrl.traffic.data.usage.outputQuotaUsed.value }}"
                                data-ng-style="{ 'width': ctrl.traffic.data.usage.remainingOutputQuotaSize.percent + '%' }"
                                data-ng-class="{
                                    'oui-progress__bar_warning': ctrl.traffic.data.usage.nearQuota,
                                    'oui-progress__bar_error': ctrl.traffic.data.usage.overQuota
                                }">
                                <span class="oui-progress__label"
                                    data-ng-bind-template="{{ ctrl.traffic.data.usage.outputQuotaUsed.text }}"></span>
                            </div>
                        </div>
                        <span data-ng-bind="tr('server_consumption_current_period_remaining', [ctrl.traffic.data.usage.remainingOutputQuotaSize.text])"></span>
                    </dd>
                </dl>
                <div class="oui-tile__actions"
                    data-ng-if="ctrl.canOrderTraffic() && ctrl.canOrderMoreTraffic()">
                    <oui-action-menu
                        aria-label="{{:: tr('menu_action_label', tr('server_consumption_current_period_label')) }}"
                        align="end" compact>
                        <oui-action-menu-item
                            data-text="{{ tr(ctrl.trafficOption.data !== 'subscribed' ? 'server_traffic_order_button' : 'server_traffic_change_button') }}"
                            data-aria-label="{{:: tr('server_traffic_order_button') }}"
                            data-on-click="setAction('traffic/order/dedicated-server-traffic-order', ctrl.server.data.name)"
                            data-disabled="ctrl.server.data.state === 'HACKED' || ctrl.server.data.state === 'HACKED_BLOCKED'"></oui-action-menu-item>
                    </oui-action-menu>
                </div>

>>>>>>> fix(server): update sd consumption to use ui-kit
            </div>
        </div>
    </div>
</div>
